<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£æ°´æ³•äº‹ - ä¸€å®…ä¸€å¥</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #C9A962; --primary-dark: #A8863D; --bg-dark: #1A1A1A; --bg-card: #252525; --text: #FFFFFF; --text-muted: #999999; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans SC', -apple-system, sans-serif; background: var(--bg-dark); color: var(--text); min-height: 100vh; }
        header { background: linear-gradient(180deg, #1F1F1F 0%, var(--bg-dark) 100%); padding: 30px 20px; text-align: center; border-bottom: 2px solid var(--primary); position: relative; }
        header h1 { color: var(--primary); font-size: 1.8rem; margin-bottom: 10px; }
        header p { color: var(--text-muted); font-size: 0.9rem; }
        .back-btn { position: absolute; top: 20px; left: 20px; color: var(--primary); text-decoration: none; font-size: 1rem; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .service-info { background: var(--bg-card); border-radius: 15px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(201, 169, 98, 0.3); }
        .service-info h2 { color: var(--primary); margin-bottom: 15px; }
        .service-info ul { list-style: none; }
        .service-info li { padding: 8px 0; color: var(--text-muted); }
        .service-info li::before { content: "âœ“ "; color: var(--primary); }
        .questions { background: var(--bg-card); border-radius: 15px; padding: 25px; margin-bottom: 20px; }
        .questions h3 { color: var(--primary); margin-bottom: 15px; }
        .question-btn { display: block; width: 100%; padding: 15px 20px; margin: 10px 0; background: rgba(201, 169, 98, 0.1); border: 1px solid rgba(201, 169, 98, 0.3); border-radius: 10px; color: var(--text); font-size: 1rem; cursor: pointer; text-align: left; transition: all 0.3s; }
        .question-btn:hover { background: rgba(201, 169, 98, 0.2); border-color: var(--primary); }
        .chat-box { background: var(--bg-card); border-radius: 15px; padding: 20px; min-height: 400px; max-height: 500px; overflow-y: auto; display: none; }
        .chat-message { margin: 15px 0; padding: 15px; border-radius: 10px; line-height: 1.6; }
        .chat-message.ai { background: rgba(201, 169, 98, 0.1); border-left: 3px solid var(--primary); }
        .chat-message.user { background: rgba(255, 255, 255, 0.05); border-right: 3px solid var(--primary); text-align: right; }
        .input-area { display: flex; gap: 10px; margin-top: 20px; display: none; }
        .input-area input { flex: 1; padding: 15px; border: 1px solid rgba(201, 169, 98, 0.3); border-radius: 10px; background: var(--bg-card); color: var(--text); font-size: 1rem; }
        .input-area input:focus { outline: none; border-color: var(--primary); }
        .input-area button { padding: 15px 30px; background: var(--primary); color: #111; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; }
        .input-area button:hover { background: var(--primary-dark); }
        .loading { color: var(--text-muted); text-align: center; padding: 20px; }
    </style>
</head>
<body>
    <header>
        <a href="/" class="back-btn">â† è¿”å›é¦–é¡µ</a>
        <h1>ğŸ‘¶ é£æ°´æ³•äº‹</h1>
        <p>AIæ ¹æ®ç¦è¿å› æœï¼Œä¸ºæ‚¨ç²¾å¿ƒæŒ‘é€‰å¥½åå­—</p>
    </header>
    <div class="container">
        <div class="service-info">
            <h2>ä¸ºæ‚¨æä¾›</h2>
            <ul>
                <li>ç¦è¿å› æœåˆ†æ</li>
                <li>ä¸‰æ‰äº”æ ¼é…ç½®</li>
                <li>éŸ³å½¢ä¹‰ä¿±ä½³</li>
                <li>é¿å¼€å¿Œç”¨å­—</li>
            </ul>
        </div>
        <div class="questions" id="questions">
            <h3>è¯·æä¾›ä¿¡æ¯ï¼š</h3>
            <button class="question-btn" onclick="startChat('å®å®å§“')">ğŸ“ è¿˜é˜´å€º</button>
            <button class="question-btn" onclick="startChat('æˆ‘æƒ³æ”¹å')">âœï¸ è¡¥è´¢åº“</button>
            <button class="question-btn" onclick="startChat('è¶…åº¦ç¥ˆç¦')">ğŸ¢ è¶…åº¦ç¥ˆç¦</button>
            <button class="question-btn" onclick="startChat('å¸®æˆ‘åˆ†æåå­—')">ğŸ” è½¬è¿æ”¹è¿</button>
        </div>
        <div class="chat-box" id="chatBox"></div>
        <div class="input-area" id="inputArea">
            <input type="text" id="userInput" placeholder="è¯·æä¾›ï¼šå§“æ°ã€å‡ºç”Ÿå¹´æœˆæ—¥æ—¶ã€æ€§åˆ«..." onkeypress="if(event.key==='Enter')sendMessage()">
            <button onclick="sendMessage()">å‘é€</button>
        </div>
    </div>
    <script>
        let serviceType = 'é£æ°´æ³•äº‹'
        function startChat(question) {
            document.getElementById('questions').style.display = 'none';
            document.getElementById('chatBox').style.display = 'block';
            document.getElementById('inputArea').style.display = 'flex';
            if (question) { document.getElementById('userInput').value = question; sendMessage(); }
        }
        async function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            if (!message) return;
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML += '<div class="chat-message user">' + message + '</div>';
            input.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;
            chatBox.innerHTML += '<div class="loading">AIæ­£åœ¨åˆ†æä¸­...</div>';
            chatBox.scrollTop = chatBox.scrollHeight;
            try {
                const response = await fetch('/api/chat', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ message: message, service: serviceType }) });
                const data = await response.json();
                const loading = chatBox.querySelector('.loading');
                if (loading) loading.remove();
                chatBox.innerHTML += '<div class="chat-message ai">' + data.response + '</div>';
                chatBox.scrollTop = chatBox.scrollHeight;
            } catch (e) {
                const loading = chatBox.querySelector('.loading');
                if (loading) loading.remove();
                chatBox.innerHTML += '<div class="chat-message ai">æŠ±æ­‰ï¼Œè¯·ç¨åå†è¯•æˆ–è”ç³»å®¢æœã€‚</div>';
            }
        }
    </script>
</body>
</html>
